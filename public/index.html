<!DOCTYPE html>
<html>
    <head>        <script src="bower/jquery/dist/jquery.js"></script>        <script src="bower/typeahead.js/dist/bloodhound.js"></script>        <script src="bower/hogan.js/web/builds/3.0.2/hogan-3.0.2.js"></script>        <script src="dist/noe-autocomplete.bundle.js"></script>        <style type="text/css">            #autocomplete {                width: 500px;                border: solid 1px #f1f1f1;                position: relative;            }            input, p {                width: 500px;                box-sizing: border-box;                padding: 10px;                margin: 0;                font-size: 100%;                line-height: 40px;                position: relative;                z-index: 2;                background: rgba(255,255,255,0.7);                border: none;                font-family: helvetica;            }            p {                position: absolute;                z-index: 1;                top: 0;                left: 0;                height: 40px;            }            li.active {                font-weight: bold;                color: red;            }        </style>    </head>    <body>        <div id="autocomplete">            <input type="text" />            <p></p>            <aside></aside>        </div>        <script>            $(function() {                var engine = new Bloodhound({                    identify: function(obj) { return obj.id; },                    queryTokenizer: Bloodhound.tokenizers.whitespace,                    datumTokenizer: Bloodhound.tokenizers.whitespace,                    remote: {                        url: '/terms',                        prepare: function(query, settings) {                            settings.data = {                                q: query,                            }                            return settings;                        }                    }                });                $(document).on('uiGetSuggestions', function(e, query) {                    function responseSync(datatum) {                        // console.log('Sync', datatum);                        // $(e.target).trigger('dataSuggestions', [datatum]);                    }                    function responseAsync(datatum) {                        // console.log('Async', datatum);                        // engine.add(datatum);                        $(e.target).trigger('dataSuggestions', [datatum]);                    }                    engine.search(query, responseSync, responseAsync);                });                NoeAutocomplete.attachTo('#autocomplete', {                    uiGetSuggestions: 'uiGetSuggestions',                    dataSuggestions: 'dataSuggestions',                    templates: {                        suggestions: (function(tmpl) {                                return tmpl.render.bind(tmpl);                            })(Hogan.compile([                                '<ul>',                                    '{{#suggestions}}',                                        '<li data-id="{{id}}" data-label="{{name}}">{{name}}</li>',                                    '{{/suggestions}}',                                '</ul>'].join(''))),                        hint: function(view) { return view.hint; }                    }                });            });        </script>    </body></html>